import{S as f}from"./customerinformation.service-ecff318f.js";import{D as R,V as y}from"./VAutocomplete-50ca3122.js";import{C,a as b}from"./Detail-ee6c1c8e.js";import{D as A}from"./DataTableHelper-234fa2d4.js";import{H as U}from"./main-ba3fde8e.js";import{_ as L,e as _,f as T,i as E,j as t,k as l,V as s,l as h,D as P,C as x,p as w,q as v,s as p,u as r,af as c,x as z,z as u,ad as g,m as I,v as N}from"./index-26f63e57.js";import{V as F,a as B,b as H}from"./VExpansionPanel-d5a93536.js";import{V as M}from"./VCheckbox-e3cb1aac.js";import"./VCheckboxBtn-5a600a8b.js";const G={components:{DataTableHelper:A,CustomerDetailView:C,VueDatePicker:U},data(){return{route:"/customerinfodrawer",excelloading:!1,loading:!0,sendaction:!0,selected:[],selectedRows:[],selecteddatalist:[],userlist:[],id:0,model:new b,headers:[{title:"Action",width:250,key:"id"},{title:"Remittance No",key:"remittance_no",width:220},{title:"Status",key:"status",width:220},{title:"Remittance Date",key:"remittance_date",width:220},{title:"Sender Name",key:"customer_sender_name",width:220},{title:"Sender PhoneNo",key:"phone_no",width:220},{title:"Receiver Name",key:"customer_receiver_name",width:220},{title:"Receiver No",key:"receiver_phoneno",width:220},{title:"Deposit Amount",key:"deposit_amount",width:220},{title:"Deposit Exchange Rate",key:"deposit_exchange_rate",width:220}]}},created(){R.GetUserList().then(o=>{this.userlist=o.data})},computed:{getTableHeaders(){let o=[];return this.showActionButtons===!1&&o.push("actions"),this.headers.filter(e=>!o.includes(e.value))},getSel(){return this.selectedRows.length}},methods:{SendData(){var o=this;o.selectedRows.forEach(function(e){o.selecteddatalist.push(e.id)}),f.SendData(o.selecteddatalist).then(e=>{if(e.data){var n=e.data.messages[0];e.data.success?(o.$root.AlertDialog.Show({message:n,color:"success"}),o.$emit("AfterSaved"),this.$refs.DataTable.Reload(!0)):o.$root.AlertDialog.Show({message:n,color:"error"})}}),o.selectedRows=[],o.selecteddatalist=[]},GetAllData(o){return this.model.status=-1,f.GetAllForApproverList(o,this.model)},loadItems({page:o,itemsPerPage:e,sortBy:n}){this.loading=!0,FakeAPI.fetch({page:o,itemsPerPage:e,sortBy:n}).then(({items:i,total:a})=>{this.serverItems=i,this.totalItems=a,this.loading=!1})},ResetFilter(){this.model=new b,this.model.status=-1,this.$refs.DataTable.Reload(!0)},ShowLoading(o){this.$refs.DataTable.loading=o},DetailItem(o){this.$refs.CustomerDetailModal.SuperAdminShow(o.id)},EditItem(o){var e=this;o.id>0&&this.$router.push({path:"customerinfodrawer",query:{id:o.id}}),e.ShowLoading(!1),e.$refs.EntryModal.Show("edit")},DeleteItem(o){var e=this;e.$root.ConfirmBoxModal.open().then(n=>{n&&(e.ShowLoading(!0),f.Delete(o.id).then(i=>{if(i.data){var a=i.data.messages[0];i.data.success?(e.$root.AlertDialog.Show({message:a,color:"success"}),e.ResetFilter()):e.$root.AlertDialog.Show({message:a,color:"error"})}},i=>{console.error(i),e.ShowLoading(!1)}))})},Filter(){this.$refs.DataTable.Reload(!0)},ExcelReport(){var o=this;return new Promise(()=>{f.DownLoadReport(o.model,{itemsPerPage:-1}).then(e=>{window.console.log(window.URL.createObjectURL(new Blob([e.data])));const n=window.URL.createObjectURL(new Blob([e.data]));var i=document.createElement("a");i.href=n,i.setAttribute("download","Approver List.xls"),document.body.appendChild(i),i.click(),o.excelloading=!1})})},ClearData(){this.model.remittance_from_date="",this.model.remittance_to_date="",this.model.remittance_no="",this.model.sender_name="",this.model.receiver_name="",this.model.deposit_amount="",this.model.deposit_exchange_rate="",this.model.sender_phone_no="",this.model.receiver_phone_no="",this.model.user_id=null,this.model.excelimport="",this.$refs.DataTable.Reload(!0)}}};function j(o,e,n,i,a,m){const D=_("VueDatePicker"),S=_("DataTableHelper"),k=_("CustomerDetailView");return T(),E("div",null,[t(s,{cols:"12",md:"12"},{default:l(()=>[t(h,{dense:""},{default:l(()=>[t(s,{cols:"12",md:"12",class:"mt-2"},{default:l(()=>[t(P,{onSubmit:x(m.SendData,["prevent"]),autocomplete:"off",ref:"form",modelValue:o.valid,"onUpdate:modelValue":e[14]||(e[14]=d=>o.valid=d)},{default:l(()=>[t(h,{density:"compact"},{default:l(()=>[t(s,{cols:"12",md:"4"},{default:l(()=>e[15]||(e[15]=[w("h3",{class:"ml-5"},"Customer List For Approver",-1)])),_:1}),t(s,{cols:"12",md:"2"},{default:l(()=>[t(v,{type:"submit",disabled:m.getSel<=0,variant:"outlined",size:"small",class:"mr-3"},{default:l(()=>[t(p,{size:"20",color:"primary"},{default:l(()=>e[16]||(e[16]=[r("mdi-checkbox-multiple-marked")])),_:1}),t(c,{activator:"parent",location:"bottom"},{default:l(()=>e[17]||(e[17]=[r("Multiple Approved")])),_:1})]),_:1},8,["disabled"])]),_:1}),t(s,{cols:"12",md:"12",class:"mt-n4"},{default:l(()=>[t(z,null,{default:l(()=>[t(F,null,{default:l(()=>[t(B,{title:"Search"},{default:l(()=>[t(H,null,{default:l(()=>[t(s,{cols:"12",md:"12"},{default:l(()=>[t(h,{dense:"",class:"mt-3"},{default:l(()=>[t(s,{cols:"12",md:"3"},{default:l(()=>[t(u,{elevation:0,density:"compact",modelValue:a.model.remittance_no,"onUpdate:modelValue":e[0]||(e[0]=d=>a.model.remittance_no=d),label:"Remittance No",variant:"outlined"},null,8,["modelValue"])]),_:1}),t(s,{cols:"12",md:"3"},{default:l(()=>[t(D,{modelValue:a.model.remittance_from_date,"onUpdate:modelValue":e[1]||(e[1]=d=>a.model.remittance_from_date=d),"enable-time-picker":!1,"teleport-center":"",placeholder:"From Date",utc:""},null,8,["modelValue"])]),_:1}),t(s,{cols:"12",md:"3"},{default:l(()=>[t(D,{modelValue:a.model.remittance_to_date,"onUpdate:modelValue":e[2]||(e[2]=d=>a.model.remittance_to_date=d),"enable-time-picker":!1,"teleport-center":"",placeholder:"To Date",utc:""},null,8,["modelValue"])]),_:1}),t(s,{cols:"12",md:"3"},{default:l(()=>[t(u,{elevation:0,density:"compact",modelValue:a.model.sender_name,"onUpdate:modelValue":e[3]||(e[3]=d=>a.model.sender_name=d),label:"Sender Name",variant:"outlined"},null,8,["modelValue"])]),_:1}),t(s,{cols:"12",md:"3"},{default:l(()=>[t(u,{elevation:0,density:"compact",modelValue:a.model.receiver_name,"onUpdate:modelValue":e[4]||(e[4]=d=>a.model.receiver_name=d),label:"Receiver Name",variant:"outlined"},null,8,["modelValue"])]),_:1}),t(s,{cols:"12",md:"3"},{default:l(()=>[t(u,{elevation:0,density:"compact",modelValue:a.model.deposit_amount,"onUpdate:modelValue":e[5]||(e[5]=d=>a.model.deposit_amount=d),label:"Deposit Amount",variant:"outlined"},null,8,["modelValue"])]),_:1}),t(s,{cols:"12",md:"3"},{default:l(()=>[t(u,{elevation:0,density:"compact",modelValue:a.model.deposit_exchange_rate,"onUpdate:modelValue":e[6]||(e[6]=d=>a.model.deposit_exchange_rate=d),label:"Deposit Exchange",variant:"outlined"},null,8,["modelValue"])]),_:1}),t(s,{cols:"12",md:"3"},{default:l(()=>[t(u,{elevation:0,density:"compact",modelValue:a.model.sender_phone_no,"onUpdate:modelValue":e[7]||(e[7]=d=>a.model.sender_phone_no=d),label:"Sender Phone no",variant:"outlined"},null,8,["modelValue"])]),_:1}),t(s,{cols:"12",md:"3"},{default:l(()=>[t(u,{elevation:0,density:"compact",modelValue:a.model.receiver_phone_no,"onUpdate:modelValue":e[8]||(e[8]=d=>a.model.receiver_phone_no=d),label:"Receiver Phone no",variant:"outlined"},null,8,["modelValue"])]),_:1}),t(s,{cols:"12",md:"3"},{default:l(()=>[t(y,{modelValue:a.model.user_id,"onUpdate:modelValue":e[9]||(e[9]=d=>a.model.user_id=d),"item-title":"text",label:"User","item-value":"value",variant:"outlined",density:"compact",items:a.userlist},null,8,["modelValue","items"])]),_:1}),t(M,{modelValue:a.model.excelimport,"onUpdate:modelValue":e[10]||(e[10]=d=>a.model.excelimport=d),label:"Excel Import Data"},null,8,["modelValue"]),t(s,{cols:"12",md:"3"},{default:l(()=>[t(v,{onClick:m.Filter,variant:"outlined",size:"small",class:"mr-3"},{default:l(()=>[t(p,{size:"20",color:"success"},{default:l(()=>e[18]||(e[18]=[r("mdi-magnify")])),_:1}),t(c,{activator:"parent",location:"bottom"},{default:l(()=>e[19]||(e[19]=[r("Search")])),_:1})]),_:1},8,["onClick"]),t(v,{variant:"outlined",onClick:e[11]||(e[11]=x(d=>m.ClearData(),["stop"])),size:"small",class:"mr-3"},{default:l(()=>[t(p,{size:"small",color:"red"},{default:l(()=>e[20]||(e[20]=[r("mdi-broom")])),_:1}),t(c,{activator:"parent",location:"bottom"},{default:l(()=>e[21]||(e[21]=[r("Clear")])),_:1})]),_:1}),t(v,{onClick:e[12]||(e[12]=d=>m.ExcelReport()),variant:"outlined",size:"small"},{default:l(()=>[t(p,{size:"20",color:"success"},{default:l(()=>e[22]||(e[22]=[r("mdi-file-excel")])),_:1}),t(c,{activator:"parent",location:"bottom"},{default:l(()=>e[23]||(e[23]=[r("Excel Report")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(s,{cols:"12",md:"12",class:"mt-n3"},{default:l(()=>[t(S,{ref:"DataTable",headers:a.headers,dataLoader:m.GetAllData,show_select:a.sendaction,modelValue:a.selectedRows,"onUpdate:modelValue":e[13]||(e[13]=d=>a.selectedRows=d)},{"item.id":l(({item:d})=>[t(c,{location:"bottom"},{activator:l(({props:V})=>[t(p,g({size:"x-small",onClick:q=>m.DetailItem(d),color:"secondary"},V),{default:l(()=>e[24]||(e[24]=[r("mdi-eye-outline")])),_:2},1040,["onClick"])]),default:l(()=>[e[25]||(e[25]=w("span",{class:"text-center"},"Detail",-1))]),_:2},1024),t(c,{location:"bottom"},{activator:l(({props:V})=>[I(t(p,g({size:"x-small",class:"ma-2",color:"success",icon:"mdi-thumb-up",variant:"text"},V),{default:l(()=>e[26]||(e[26]=[r("mdi-thumb-up")])),_:2},1040),[[N,d.approver_check==!0]])]),default:l(()=>[e[27]||(e[27]=w("span",{class:"text-center"},"Status",-1))]),_:2},1024)]),_:2},1032,["headers","dataLoader","show_select","modelValue"])]),_:1}),t(k,{ref:"CustomerDetailModal"},null,512)]),_:1})]),_:1},8,["onSubmit","modelValue"])]),_:1})]),_:1})]),_:1})])}const ee=L(G,[["render",j]]);export{ee as default};
